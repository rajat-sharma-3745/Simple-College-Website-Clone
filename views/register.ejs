<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Welcome to our final project website of Govt Post-Graduate College Bilaspur, District Bilaspur (H.P.).">
      <meta name="keywords" content="GPGC Bilaspur,GPGC Bilaspur register,Govt Post Graduate College Bilaspur H.P., Govt Post Graduate College Bilaspur, Govt PG College Bilaspur ,Govt. College Bilaspur ,Govt. College Bilaspur H.P. ,Government Post Graduate College Bilaspur">
      <title>Register | Govt PG College Bilaspur </title>
      <link rel="stylesheet" href="css/main.css">
      <link rel="stylesheet" href="css/utils.css">
      <link rel="stylesheet" href="css/register-login.css">
      <link rel="stylesheet" href="css/mobile.css">
      <link rel="icon" type="image/x-icon" href="/img/clglogo.png">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
      <!-- <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" /> -->

</head>

<body class="" id="body">
      <div class="loader" id="loader">
            <div>

            </div>
      </div>
      <%-include("../partials/topbanner")%>
      <%-include("../partials/header")%>


      <section class="register-container">
            <!-- body -->
            <div class="register-div ">
                  <!-- container -->
                  <h2 class="text-bold text-center "> Registration Form</h2>
                  <form action="/registerr" method="post" class="register-form" enctype="multipart/form-data">
                        
                        <div class="text-bold text-center register-message flex " id="register-message">
                              <h3 id="register-h3">
                                    <%=message%>
                              </h3>
                              <a href="#" onclick="document.getElementById('register-message').style.display='none' ">
                                    <i class="fa-sharp fa-solid fa-xmark"></i></a>
                        </div>
                        
                        
                          
                        <div class="inputbox-col flex">
                              <div class="input-box">
                                    <label for="fisrtname">First Name</label>
                                    <input type="text" name="firstname" id="firstname"
                                          placeholder="Enter your First name"  required>
                              </div>
                              <div class="input-box">
                                    <label for="lastname">Last Name</label>
                                    <input type="text" name="lastname" id="lastname" placeholder="Enter your Last name"
                                         required  >
                              </div>

                        </div>
                        <div class="emailfield">
                              <div class="input-box ">
                                    <label for="email">E-mail</label>
                                    <input type="text " name="email" id="email" placeholder="Enter your E-mail"
                                          class="emailinput" required>
                              </div>
                              <span class="error email-error flex items-center">
                                    <i class="fa-sharp fa-solid fa-circle-exclamation error-icon"></i>
                                    <p>Please enter a valid email</p>
                              </span>
                        </div>
                        <div class="input-box ">
                              <label for="image"> Uplaod Image</label>
                              <input type="file" name="image" id="image" required>
                        </div>
                        <div class="inputbox-col flex ">
                              <div class="input-box">
                                    <label for="phone">Phone Number</label>
                                    <input type="text" name="phone" id="phone" placeholder="Enter your Number"  required>
                              </div>
                              <div class="input-box">
                                    <label for="dob">Birth Date</label>
                                    <input type="date" name="dob" id="dob"  required>
                              </div>
                        </div>
                        <div class="inputbox-col flex ">
                              <div class="input-box">
                                    <label for="age">Age</label>
                                    <input type="text" name="age" id="age" placeholder="Enter your Age" required >
                              </div>
                              <div class="input-box">
                                    <label for="gender">Gender</label>
                                    <select name="gender" id="gender"  required>
                                          <option value="" disabled selected>Select Gender</option>
                                          <option value="male">Male</option>
                                          <option value="female">Female</option>
                                          <option value="others">Others</option>
                                    </select>
                              </div>
                        </div>
                        <div class="inputbox-col flex ">
                              <div class="input-box">
                                    <label for="coursetype">Course-type</label>
                                    <select name="coursetype" id="coursetype" required >
                                          <option value="" disabled selected>Select Course Type</option>
                                          <option value="Undergraduate">Undergraduate</option>
                                          <option value="Postgraduate">Postgraduate</option>
                                          <option value="Self-Financing">Self-Financing</option>
                                    </select>
                              </div>
                              <div class="input-box" ">
                        <label for=" course">Course</label>
                                    <select name="course" id="course"  required>
                                          <!-- <option value="" disabled selected>Select Course </option> -->

                                          <!-- <option value=""></option>
                         <option value=""></option>
                        <option value=""></option> -->
                                    </select>
                              </div>
                        </div>
                        <div class="input-box">
                              <label for="address">Address</label>
                              <textarea name="address" id="address" cols="30" rows="10" required></textarea>
                        </div>
                        <div class="inputbox-col flex">

                              <div class="inputfield-pass password">
                                    <div class="input-box input-pass">
                                          <label for="password">Password</label>
                                          <input type="password" name="password" id="password"
                                                placeholder="Enter your password" class="pass-input" required >
                                          <i class="fa-regular fa-eye-slash show-hide"></i>
                                    </div>
                                    <span class="error password-error flex">
                                          <i class="fa-sharp fa-solid fa-circle-exclamation error-icon"></i>
                                          <p>Please enter atleast 7 and not more than 10 characters with numbers and alphabets</p>
                                    </span>
                              </div>
                              <div class="inputfield-pass cpassword">
                                    <div class="input-box input-pass">
                                          <label for="confpassword">Confirm Password</label>
                                          <input type="password" name="confpassword" id="confpassword"
                                                placeholder="Re-enter password" class="cpass-input" required >
                                          <i class="fa-regular fa-eye-slash show-hide"></i>
                                    </div>
                                    <span class="error confpassword-error flex items-center">
                                          <i class="fa-sharp fa-solid fa-circle-exclamation error-icon"></i>
                                          <p>Password does not match</p>
                                    </span>
                              </div>
                        </div>
                        <button type="submit"  class="primary-button">Register</button>

                        <h5 class="text-center py-1">Already have a account?<a href="/login">Login</a> </h5>

                  </form>
            </div>
      </section>




      




                  <!-- <%-include("../partials/footer")%> -->
                        <%-include("../partials/loaderscript")%>

                              <!-- <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
      <script>
            AOS.init();
      </script> -->

                              <script src="https://kit.fontawesome.com/23ed0aa629.js" crossorigin="anonymous"></script>
                              <script src="js/main.js" defer></script>
                              <script>
                                    let coursetype = document.getElementById('coursetype')
                                    console.log(coursetype.value)
                                    let course = document.getElementById('course')
                                    coursetype.addEventListener('change', (event) => {
                                          if (event.target.value === "Undergraduate") {
                                                course.innerHTML = ` <option value="" disabled selected>Select Course </option> <option value="BA">BA</option>
                  <option value="BSC">BSC</option>
                  <option value="BCOM">BCOM</option>`
                                          }
                                          if (event.target.value === "Postgraduate") {
                                                course.innerHTML = ` <option value="" disabled selected>Select Course </option> <option value="MA">MA</option>
                  <option value="MSC">MSC</option>
                  <option value="MCOM">MCOM</option>`
                                          }
                                          if (event.target.value === "Self-Financing") {
                                                course.innerHTML = ` <option value="" disabled selected>Select Course </option> <option value="BCA">BCA</option>
                  <option value="BBA">BBA</option>
                  <option value="BTA">BTA</option>`
                                          }

                                    })
                                    const registermessage = document.getElementById('register-message')
                                    if ("<%=message%>" == "") {
                                          registermessage.style.display = "none"
                                    }
                                    
                                    





                                    
            const form = document.querySelector("form"),
                  emailfield = form.querySelector(".emailfield"),
                  emailinput = emailfield.querySelector(".emailinput"),
                  passfield = form.querySelector(".password"),
                  passinput = passfield.querySelector(".pass-input"),
                  cpassfield = form.querySelector(".cpassword"),
                  cpassinput = cpassfield.querySelector(".cpass-input")



            const checkemail = () => {
                  const emailpattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
                  if (!emailinput.value.match(emailpattern)) {
                        return emailfield.classList.add('invalid');
                   }
                  emailfield.classList.remove('invalid');     
            }
            const checkpass = () => {
                  const passpattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{7,10}$/;
                  if (!passinput.value.match(passpattern)) {
                        return passfield.classList.add('invalid');
                  }
                    passfield.classList.remove('invalid');
                  
            }
            const confpass=()=>{
                  if(passinput.value !== cpassinput.value || cpassinput.value===""){
                     return   cpassfield.classList.add('invalid');
                  }
                  cpassfield.classList.remove('invalid');
            }

          

// //calling function on form submit 

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                  checkemail();
                  checkpass();
                  confpass();
                 emailinput.addEventListener('keyup',checkemail);
                 passinput.addEventListener('keyup',checkpass);
                 cpassinput.addEventListener('keyup',confpass);
                 if(!emailfield.classList.contains('invalid')&&!passfield.classList.contains('invalid')&&!cpassfield.classList.contains('invalid')){
                 
                   form.submit();
                 }
            })
      



            //hide and show password
            const eyeicons=document.querySelectorAll('.show-hide')
            eyeicons.forEach((eyeicon)=>{
                  eyeicon.addEventListener('click',()=>{
                        const pinput=eyeicon.parentElement.querySelector("input")
                       if(pinput.type==="password")
                       {
                        eyeicon.classList.remove("fa-eye-splash");
                        eyeicon.classList.add("fa-eye");
                        return pinput.type="text"
                       } 
                       eyeicon.classList.add("fa-eye-splash");
                        eyeicon.classList.remove("fa-eye");
                        return pinput.type="password"
                  })
            })

                              </script>
</body>

</html>